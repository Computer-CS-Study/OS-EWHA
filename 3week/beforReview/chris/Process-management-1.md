# 운체제 강의 7강

process management

프로세스가 어떻게 만들어지는가?

- 누가 프로세스를 만드는가?
    - 부모 프로세스가 자식 프로세스를 생성한다.
        - 보통 복제생성을 하게 된다
        - 부모프로세스는 1개
        - 트리형태가 됨
        - 1개의 부모프로세스는 여러개의 자식프로세스 생성 가능
- 자원
    - 운영체제로부터 받는다
        - 부모와 공유할 수도 안할 수도 있다
- 자식 프로세스가 생성되면 자원을 얻기위해 서로 경쟁한다.
- 부모와 자식이 공존하며 수행되는 경우도 있고
- 자식이 종료될 때까지 부모가 기다리는 경우도 있다.

자식은 부모의 주소공간을 복사한다. pcb라든가 자원 또한 복사한다.

자식은 복제된 공간에 새로운 프로그램을 올릴 수 있다.

복제생성 = fork()라는 시스템 콜이 복제역할

exec()라는 시스템콜을 통해 덮어씌우는 역할

복제를 한 후 덮어씌우지 않을 수 있음.(exec를 실행 안함)

자식 프로세스를 만들지 않고 exec()을 실행하면 완전히 새로운 프로세스를 덮을 수도 있다.

사용자 프로세스가 직접 다른 프로세스를 생성하는 것은 아니고, 운영체제를 통해서 생성이 가능(fork, exec 과 같은 시스템 콜)

### 프로세스 종료

프로세스는 exit이라는 시스템콜을 한다(자발적)

프로세스가 종료될 때는 자식 프로세스가 부모 프로세스에게 data를 보내게 된다.

프로세스의 세계에서는 자식이 먼저 종료되어야 한다. 이후에 부모가 이후 처리

비자발적으로 프로세스가 종료되기도 한다(abort)

- 자원의 할당치를 넘어선 요청을 할 경우(부모가 강제로 종료)
- 자식에게 할당된 태스크가 없을 경우 부모가 자식을 강제로 종료
- 부모 프로세스가 종료되는 경우
    - 자식이 먼저 종료되어야 하기 때문에, 자식을 모두 종료시킨 후 부모 프로세스가 종료된다.
    - 단계적으로 종료된다.